<div class="product-detail" *ngIf="product; else loading">
  <div class="product-container">
    <div class="product-image">
      <img
        [src]="'https://via.placeholder.com/500x400?text=' + product.name"
        [alt]="product.name"
      />
    </div>

    <div class="product-info">
      <h1>{{ product.name }}</h1>
      <div class="product-sku">SKU: {{ product.sku }}</div>
      <p class="product-description">{{ product.description }}</p>

      <div class="product-price">
        {{ product.price | currency: 'USD' : 'symbol' : '1.2-2' }}
      </div>

      <div class="product-stock" [class.low-stock]="product.stock < 10">
        {{ product.stock }} in stock
      </div>

      <div class="quantity-selector">
        <label for="quantity">Quantity:</label>
        <input
          type="number"
          id="quantity"
          [(ngModel)]="quantity"
          [max]="product.stock"
          min="1"
          class="quantity-input"
        />
      </div>

      <div class="product-actions">
        <button
          (click)="addToCart()"
          [disabled]="product.stock === 0 || quantity > product.stock"
          class="add-to-cart-btn"
        >
          {{ product.stock === 0 ? 'Out of Stock' : 'Add to Cart' }}
        </button>
        <button (click)="goBack()" class="back-btn">
          Back to Products
        </button>
      </div>
    </div>
  </div>
</div>

<ng-template #loading>
  <div class="loading">
    <p>Loading product...</p>
  </div>
</ng-template>
